(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){},32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(24),c=a.n(r),i=a(63),s=a(2),l=a(3),u=a(5),m=a(4),h=a(6),p=(a(37),a(41),a(62)),d=a(15),b=a(25),f=a(26);d.b.add(f.a);var g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Nav"},o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"headerLinks flexDiv"},o.a.createElement(p.a,{to:"/",className:"logoLink"},"Bookstore CMS"),o.a.createElement(p.a,{to:"/",className:"booksLink"},"Books"),o.a.createElement(p.a,{to:"/",className:"categoryLink"},"Categories")),o.a.createElement("div",{className:"userCircle"},o.a.createElement(b.a,{icon:"user"}))))}}]),t}(o.a.Component),E=a(64),k=a(65),v=(a(45),a(47),a(27)),O=a.n(v),C=(a(49),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={id:this.props.id,category:this.props.category,title:this.props.title,author:this.props.author,current_page:this.props.current_page,current_chapter:this.props.current_chapter,total_pages:this.props.total_pages},a=Math.floor(t.current_page/t.total_pages*100);return o.a.createElement("div",{className:"bookCard",id:t.id},o.a.createElement("div",{className:"bookCardLeft"},o.a.createElement("p",{className:"bookCategory"},t.category),o.a.createElement("p",{className:"bookTitle"},t.title),o.a.createElement("p",{className:"bookAuthor"},t.author),o.a.createElement("p",{className:"bookLinks"},o.a.createElement(p.a,{to:"/books/".concat(t.id),className:"bookLink"},"Comments"),o.a.createElement("span",{className:"bookLink",onClick:function(){return e.props.removeBtn(t.id)}},"Remove"),o.a.createElement(p.a,{to:"/books/update/".concat(t.id),className:"bookLink"},"Edit"))),o.a.createElement("div",{className:"bookCardMiddle"},o.a.createElement(O.a,{percentage:a,className:"bookProgressBar",styles:{path:{stroke:"#379cf6"}}}),o.a.createElement("div",{className:"bookCardMiddleRight"},o.a.createElement("p",{className:"bookProgressNumber"},a,"%"),o.a.createElement("p",{className:"bookProgressComplete"},"Completed"))),o.a.createElement("div",{className:"bookCardRight"},o.a.createElement("p",{className:"bookChapterHeader"},"CURRENT CHAPTER"),o.a.createElement("p",{className:"bookChapter"},t.current_chapter),o.a.createElement("button",{className:"progressBtn",onClick:function(){return e.props.progressBtn(t)}},"Update Progress")))}}]),t}(o.a.Component)),y=a(12),N=(a(51),"https://mybooksapi.herokuapp.com"),j={books:[],filters:["Action","Biography","History","Horror","Kids","Learning","Sci-Fi"],book:{},comments:[]},_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){a.props.selector(e.target.value)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=["All"].concat(Object(y.a)(j.filters));return o.a.createElement("div",{className:"filter"},o.a.createElement("span",{className:"filterTag"},"Filter:"),o.a.createElement("select",{className:"filterSelector",name:"filters",onChange:this.handleChange},e.map(function(e,t){return o.a.createElement("option",{value:e,key:t},e)})))}}]),t}(o.a.Component),B=a(11),S=function(e){return{type:"CHANGE_BOOK",book:e}},T=function(e){return function(t){return fetch("".concat(N,"/books/").concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({book:e})}).then(function(e){return e.json()}).then(function(e){t(function(e){return{type:"EDIT_BOOK",book:e}}(e))}).catch(function(e){return console.log(e)})}},w=function(e){return function(t){return fetch("".concat(N,"/books/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({book:e})}).then(function(a){t({type:"REMOVE_BOOK",id:e})}).catch(function(e){return console.log(e)})}},x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleRemoveBook=function(e){window.confirm("Are you sure you want to remove this book?")&&a.props.deleteBook(e)},a.handleEditProgress=function(e){var t=prompt("What page are you on now?");t&&(e.current_page=t,a.props.updateBook(e))},a.handleFilterChange=function(e){a.props.dispatchFilter(e)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"BookList"},o.a.createElement(_,{selector:this.handleFilterChange}),this.props.inventory.filter(function(t){return e.props.categories.includes(t.category)}).map(function(t,a){return o.a.createElement(C,{key:a,id:t.id,title:t.title,author:t.author,category:t.category,current_page:t.current_page,current_chapter:t.current_chapter,total_pages:t.total_pages,removeBtn:e.handleRemoveBook,progressBtn:e.handleEditProgress})}))}},{key:"componentDidMount",value:function(){this.props.getBooks()}}]),t}(o.a.Component),A={getBooks:function(){return function(e){return fetch("".concat(N,"/books")).then(function(e){return e.json()}).then(function(t){e(function(e){return{type:"SET_BOOKS",books:e}}(t))}).catch(function(e){return console.log(e)})}},deleteBook:w,dispatchFilter:function(e){return function(t){return t(function(e){return{type:"CHANGE_FILTER",filter:e}}(e))}},updateBook:T},D=Object(B.b)(function(e){return{inventory:e.inventory,categories:e.categories}},A)(x),F=a(14),L=a(7),R=(a(19),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.handleOptions=function(e){a.setState({category:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.addBook(a.state),a.setState({title:"",author:"",category:"Action",current_page:"",current_chapter:"",total_pages:""})},a.state={title:"",author:"",category:"Action",current_page:"",current_chapter:"",total_pages:""},a.handleChange=a.handleChange.bind(Object(L.a)(Object(L.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(L.a)(Object(L.a)(a))),a.handleOptions=a.handleOptions.bind(Object(L.a)(Object(L.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"Form"},o.a.createElement("p",{className:"formHeader"},"ADD NEW BOOK ",o.a.createElement("span",{className:"formHeaderSub"},"* all fields required")),o.a.createElement("div",{className:"flexDiv row"},o.a.createElement("input",{className:"bookFormInput",type:"text",name:"title",value:this.state.title,onChange:this.handleChange,placeholder:"Book title"}),o.a.createElement("select",{className:"formSelector",name:"categories",onChange:this.handleOptions,value:this.state.category},j.filters.map(function(e,t){return o.a.createElement("option",{value:e,key:t},e)})),o.a.createElement("button",{className:"formBtn",onClick:this.handleSubmit},"Add Book")),o.a.createElement("div",{className:"flexDiv"},o.a.createElement("input",{className:"bookFormValue",type:"text",name:"author",value:this.state.author,onChange:this.handleChange,placeholder:"Author"}),o.a.createElement("input",{className:"bookFormValue",type:"number",name:"total_pages",value:this.state.total_pages,onChange:this.handleChange,placeholder:"Total Pages"}),o.a.createElement("input",{className:"bookFormValue",type:"number",name:"current_page",value:this.state.current_page,onChange:this.handleChange,placeholder:"Current Page"}),o.a.createElement("input",{className:"bookFormValue",type:"text",name:"current_chapter",value:this.state.current_chapter,onChange:this.handleChange,placeholder:"Current Chapter"})))}}]),t}(o.a.Component)),I={addBook:function(e){return function(t){return fetch("".concat(N,"/books"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({book:e})}).then(function(e){return e.json()}).then(function(e){t(function(e){return{type:"CREATE_BOOK",book:e}}(e))}).catch(function(e){return console.log(e)})}}},M=Object(B.b)(function(e){return{}},I)(R),P=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.handleOptions=function(e){a.setState({category:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.updateBook(a.state),a.props.changeBook(a.state)};var n=a.props.book;return a.state={id:n.id,title:n.title,category:n.category,author:n.author,total_pages:n.total_pages,current_page:n.current_page,current_chapter:n.current_chapter},a.handleChange=a.handleChange.bind(Object(L.a)(Object(L.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(L.a)(Object(L.a)(a))),a.handleOptions=a.handleOptions.bind(Object(L.a)(Object(L.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"Form"},o.a.createElement("p",{className:"formHeader"},"EDIT THIS BOOK"),o.a.createElement("div",{className:"flexDiv row"},o.a.createElement("div",{className:"flexDiv col"},o.a.createElement("p",{className:"fieldLabel"},"Title:"),o.a.createElement("input",{className:"bookFormInput",type:"text",name:"title",value:this.state.title,onChange:this.handleChange,placeholder:this.state.title})),o.a.createElement("div",{className:"flexDiv col"},o.a.createElement("p",{className:"fieldLabel"},"Category:"),o.a.createElement("select",{className:"formSelector",name:"categories",onChange:this.handleOptions,value:this.state.category},j.filters.map(function(e,t){return o.a.createElement("option",{value:e,key:t},e)}))),o.a.createElement("button",{className:"formBtn",onClick:this.handleSubmit},"Edit Book")),o.a.createElement("div",{className:"flexDiv row"},o.a.createElement("div",{className:"flexDiv col"},o.a.createElement("p",{className:"fieldLabel"},"Author:"),o.a.createElement("input",{className:"bookFormValue",type:"text",name:"author",value:this.state.author,onChange:this.handleChange,placeholder:this.state.author})),o.a.createElement("div",{className:"flexDiv col"},o.a.createElement("p",{className:"fieldLabel"},"Total Pages:"),o.a.createElement("input",{className:"bookFormValue",type:"number",name:"total_pages",value:this.state.total_pages,onChange:this.handleChange,placeholder:this.state.total_pages})),o.a.createElement("div",{className:"flexDiv col"},o.a.createElement("p",{className:"fieldLabel"},"Current Page:"),o.a.createElement("input",{className:"bookFormValue",type:"number",name:"current_page",value:this.state.current_page,onChange:this.handleChange,placeholder:this.state.current_page})),o.a.createElement("div",{className:"flexDiv"},o.a.createElement("p",{className:"fieldLabel"},"Current Chapter:"),o.a.createElement("input",{className:"bookFormValue",type:"text",name:"current_chapter",value:this.state.current_chapter,onChange:this.handleChange,placeholder:this.state.current_chapter}))))}}]),t}(o.a.Component),K={updateBook:T,changeBook:S},H=Object(B.b)(function(e){return{inventory:e.inventory,book:e.activeBook}},K)(P),V=(a(56),a(58),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"commentCard",id:this.props.id},o.a.createElement("div",{className:"flexDiv"},o.a.createElement("div",{className:"commentCardLeft"},o.a.createElement("p",{className:"commentUser"},this.props.user)),o.a.createElement("div",{className:"commentCardRight"},o.a.createElement("p",{className:"commentRating"},"Rating: ",this.props.rating))),o.a.createElement("div",{className:"commentCardBottom"},o.a.createElement("p",{className:"commentContent"},this.props.content)))}}]),t}(o.a.Component)),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleRemoveBook=function(e){window.confirm("Are you sure you want to remove this book?")&&a.props.deleteBook(e)},a.handleEditProgress=function(e){var t=prompt("What page are you on now?");t&&(e.current_page=t,a.props.updateBook(e),a.props.changeBook(e))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.book;return o.a.createElement("div",{className:"BookView"},o.a.createElement(C,{id:e.id,title:e.title,author:e.author,category:e.category,current_page:e.current_page,current_chapter:e.current_chapter,total_pages:e.total_pages,removeBtn:this.handleRemoveBook,progressBtn:this.handleEditProgress}),o.a.createElement("div",{className:"CommentList"},this.props.opinions.map(function(e,t){return o.a.createElement(V,{key:t,id:e.id,rating:e.rating,content:e.content,book_id:e.book_id,user:e.user})})))}},{key:"componentDidMount",value:function(){this.props.getBook(this.props.bookId),this.props.getComments(this.props.bookId)}}]),t}(o.a.Component),W={getBook:function(e){return function(t){return fetch("".concat(N,"/books/").concat(e)).then(function(e){return e.json()}).then(function(e){t(function(e){return{type:"SET_BOOK",book:e}}(e))}).catch(function(e){return console.log(e)})}},getComments:function(e){return function(t){return fetch("".concat(N,"/books/").concat(e,"/comments")).then(function(e){return e.json()}).then(function(e){t(function(e){return{type:"SET_COMMENTS",comments:e}}(e))}).catch(function(e){return console.log(e)})}},deleteBook:w,updateBook:T,changeBook:S},G=Object(B.b)(function(e){return{book:e.activeBook,opinions:e.opinions}},W)(J),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.addComment(a.state),a.setState({content:"",rating:"",user:""})},a.state={rating:"",content:"",book_id:Number(a.props.bookId),user:""},a.handleChange=a.handleChange.bind(Object(L.a)(Object(L.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(L.a)(Object(L.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"Form"},o.a.createElement("p",{className:"formHeader"},"ADD NEW COMMENT"),o.a.createElement("div",{className:"flexDiv"},o.a.createElement("input",{className:"commentFormInput",type:"text",name:"user",value:this.state.user,onChange:this.handleChange,placeholder:"Name"}),o.a.createElement("input",{className:"commentFormInput",type:"number",name:"rating",value:this.state.rating,onChange:this.handleChange,placeholder:"Rating 0 - 100"}),o.a.createElement("button",{className:"formBtn",onClick:this.handleSubmit},"Add Comment")),o.a.createElement("div",{className:"centerDiv"},o.a.createElement("textarea",{className:"commentFormTextBox",type:"text",name:"content",value:this.state.content,onChange:this.handleChange,placeholder:"This book is great!!!"})))}}]),t}(o.a.Component),q={addComment:function(e){return function(t){return fetch("".concat(N,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:e})}).then(function(e){return e.json()}).then(function(e){t(function(e){return{type:"CREATE_COMMENT",comment:e}}(e))}).catch(function(e){return console.log(e)})}}},$=Object(B.b)(function(e){return{}},q)(U),z=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(E.a,null,o.a.createElement(k.a,{exact:!0,path:"/",render:function(e){return o.a.createElement("div",null,o.a.createElement(D,null),o.a.createElement(M,null))}}),o.a.createElement(k.a,{exact:!0,path:"/books/:id",render:function(e){return o.a.createElement("div",null,o.a.createElement(G,{bookId:e.match.params.id}),o.a.createElement($,{bookId:e.match.params.id}))}}),o.a.createElement(k.a,{exact:!0,path:"/books/update/:id",render:function(e){return o.a.createElement("div",null,o.a.createElement(G,{bookId:e.match.params.id}),o.a.createElement(H,{bookId:e.match.params.id}))}}))}}]),t}(o.a.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,null),o.a.createElement("div",{className:"container"},o.a.createElement(z,null)))}}]),t}(o.a.Component),X=a(13),Y=Object(X.c)({inventory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.books,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return t.books;case"CREATE_BOOK":return Object(y.a)(e).concat([t.book]);case"REMOVE_BOOK":return e.filter(function(e){return e.id!==t.id});case"EDIT_BOOK":var a=e.findIndex(function(e){return e.id===t.book.id});return Object(y.a)(e.slice(0,a)).concat([t.book],Object(y.a)(e.slice(a+1)));default:return e}},opinions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.comments,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COMMENT":return[t.comment].concat(Object(y.a)(e));case"SET_COMMENTS":return t.comments;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.filters,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FILTER":return"All"===t.filter?Object(y.a)(j.filters):[t.filter];default:return e}},activeBook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.book,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOK":case"CHANGE_BOOK":return t.book;default:return e}}}),Z=a(31),ee=Object(X.d)(Y,Object(X.a)(Z.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(B.a,{store:ee},o.a.createElement(i.a,null,o.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.d0fde08f.chunk.js.map